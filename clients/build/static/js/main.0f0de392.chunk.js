(this.webpackJsonpclient=this.webpackJsonpclient||[]).push([[0],{115:function(e,t,c){},116:function(e,t,c){},251:function(e,t,c){},252:function(e,t,c){},254:function(e,t,c){},255:function(e,t,c){},291:function(e,t,c){},293:function(e,t,c){"use strict";c.r(t);var a=c(0),n=c.n(a),s=c(39),i=c.n(s),r=(c(115),c(38)),l=c(6),o=c(7),j=(c(116),c(40)),d=c(10),u=c.n(d),b=c(100),h=c.n(b),O=c(1);var m=function(){var e=Object(a.useState)([]),t=Object(o.a)(e,2),c=t[0],n=t[1];return Object(a.useEffect)((function(){localStorage.getItem("loggedIn")||localStorage.setItem("loggedIn",!1)}),[]),Object(a.useEffect)((function(){u.a.get("http://localhost:3001/upload").then((function(e){n(e.data)}))}),[]),Object(O.jsx)("div",{className:"Background",children:Object(O.jsxs)("div",{className:"Home",children:[Object(O.jsx)("div",{className:"Border"}),c.map((function(e,t){return Object(O.jsxs)("div",{className:"Post",children:[Object(O.jsxs)("div",{className:"Image",children:[Object(O.jsxs)("div",{className:"Name",children:[" ",e.author,Object(O.jsxs)("div",{className:"Title",children:['"',e.title,'"']})]}),Object(O.jsx)(j.a,{cloudName:"dlhqyhr1r",publicId:e.image})]}),Object(O.jsxs)("div",{className:"Content",children:[Object(O.jsxs)("div",{className:"Description",children:[' "',e.description,'"']}),Object(O.jsxs)("div",{className:"Alike",children:[Object(O.jsxs)("div",{className:"Amount",children:[e.amount," "]}),Object(O.jsx)("div",{className:"Like",children:Object(O.jsx)(h.a,{id:"likeButton",onClick:function(){!function(e,t){var a=c;a[t].likes=a[t].likes+1,u.a.post("http://localhost:3001/upload/like",{author:localStorage.getItem("username"),likesid:e}).then((function(e){n(a)}))}(e.id,t)}})})]})]})]})}))]})})},g=(c(251),c(101)),x=c.n(g),p=c(102),f=c.n(p),v=c(103),N=c.n(v),S=c(104),I=c.n(S);var k=function(){var e=Object(a.useState)(),t=Object(o.a)(e,2),c=(t[0],t[1]);return Object(a.useEffect)((function(){c(localStorage.getItem("loggedIn"))}),[localStorage.getItem("loggedIn")]),localStorage.getItem("username","")?Object(O.jsx)("div",{className:"Background",children:Object(O.jsxs)("div",{className:"Navbar",children:[Object(O.jsx)("div",{className:"Profile",children:Object(O.jsxs)("a",{href:"/",children:[Object(O.jsx)("div",{className:"Homeimg",children:Object(O.jsx)(x.a,{})}),"Home"]})}),Object(O.jsxs)("div",{className:"Profile",children:[" ",Object(O.jsxs)("a",{href:"/upload",children:[Object(O.jsx)("div",{className:"Uploadimg",children:Object(O.jsx)(f.a,{})}),"Upload"]})]}),Object(O.jsxs)("div",{className:"Profile",children:[" ",Object(O.jsxs)("a",{href:"/profile",children:[Object(O.jsx)("div",{className:"Profileimg",children:Object(O.jsx)(N.a,{})}),"Profile"]})]}),Object(O.jsxs)("div",{className:"Profile",children:["   ",Object(O.jsx)("div",{className:"Logout",children:Object(O.jsx)("b",{href:"/",children:Object(O.jsxs)("button",{onClick:function(){localStorage.setItem("loggedIn",!1),localStorage.setItem("username",""),window.location.reload()},children:[Object(O.jsx)("div",{className:"Profileimg",children:Object(O.jsx)(I.a,{})}),"Logout"]})})})]})]})}):Object(O.jsxs)("div",{className:"Navbar",children:[Object(O.jsx)("a",{href:"/",children:"Home"}),Object(O.jsx)("a",{href:"/login",children:"Login"}),Object(O.jsx)("a",{href:"/register",children:"Register"})]})};c(252);var C=function(){var e=Object(a.useState)(""),t=Object(o.a)(e,2),c=t[0],n=t[1],s=Object(a.useState)(""),i=Object(o.a)(s,2),r=i[0],j=i[1],d=Object(a.useState)(""),b=Object(o.a)(d,2),h=b[0],m=b[1],g=Object(l.e)();return Object(O.jsxs)("div",{className:"outer",children:[Object(O.jsxs)("div",{className:"Login",children:[Object(O.jsx)("h1",{children:"Login"}),Object(O.jsxs)("div",{className:"LoginForm",children:[Object(O.jsx)("input",{type:"text",placeholder:"Username",onChange:function(e){n(e.target.value)}}),Object(O.jsx)("input",{type:"Password",placeholder:"Password",onChange:function(e){j(e.target.value)}}),Object(O.jsx)("button",{onClick:function(){u.a.post("http://localhost:3001/user/login",{username:c,password:r}).then((function(e){e.data.loggedIn?(localStorage.setItem("loggedIn",!0),localStorage.setItem("username",e.data.username),g.push("/"),window.location.reload()):m(e.data.message)}))},children:" Login"})]})]}),Object(O.jsx)("div",{className:"message",children:Object(O.jsx)("h1",{style:{fontSize:20,color:"red"},children:h})})]})};c(254);var P=function(){var e=Object(a.useState)(""),t=Object(o.a)(e,2),c=t[0],n=t[1],s=Object(a.useState)(""),i=Object(o.a)(s,2),r=i[0],l=i[1];return Object(O.jsxs)("div",{className:"Register",children:[Object(O.jsx)("h1",{children:"Registration"}),Object(O.jsxs)("div",{className:"RegisterForm",children:[Object(O.jsx)("input",{type:"text",placeholder:"Username",onChange:function(e){n(e.target.value)}}),Object(O.jsx)("input",{type:"Password",placeholder:"Password",onChange:function(e){l(e.target.value)}}),Object(O.jsx)("a",{href:"/login",children:Object(O.jsx)("button",{onClick:function(){console.log(c),u.a.post("http://localhost:3001/user/register",{username:c,password:r}).then((function(e){console.log(e)}))},children:"Register"})})]})]})};c(255);var y=function(){var e=Object(a.useState)(""),t=Object(o.a)(e,2),c=t[0],n=t[1],s=Object(a.useState)(""),i=Object(o.a)(s,2),r=i[0],j=i[1],d=Object(a.useState)([]),b=Object(o.a)(d,2),h=b[0],m=b[1],g=Object(l.e)();return Object(O.jsx)("div",{className:"box",children:Object(O.jsxs)("div",{className:"Upload",children:[Object(O.jsx)("h1",{children:"Create A Post"}),Object(O.jsxs)("div",{className:"UploadForm",children:[Object(O.jsx)("input",{type:"text",placeholder:"Title",onChange:function(e){n(e.target.value)}}),Object(O.jsx)("input",{type:"text",placeholder:"Description",onChange:function(e){j(e.target.value)}}),Object(O.jsx)("input",{type:"file",onChange:function(e){return m(e.target.files)}}),Object(O.jsx)("button",{onClick:function(){var e=new FormData;e.append("file",h[0]),e.append("upload_preset","vgm4xsbh"),u.a.post("https://api.cloudinary.com/v1_1/dlhqyhr1r/image/upload",e).then((function(e){var t=e.data.public_id;u.a.post("http://localhost:3001/upload",{title:c,description:r,image:t,author:localStorage.getItem("username")}).then((function(){g.push("/")}))}))},children:"Upload"})]})]})})},w=c(105);c(291);var L=function(){var e=Object(a.useState)([]),t=Object(o.a)(e,2),c=t[0],n=t[1],s=Object(a.useState)(!1),i=Object(o.a)(s,2),r=i[0],l=i[1];return Object(a.useEffect)((function(){l(!0),u.a.get("http://localhost:3001/upload/byUser/".concat(localStorage.getItem("username"))).then((function(e){n(e.data)})).catch((function(e){console.error(e)})).then((function(){l(!1)}))}),[]),Object(O.jsxs)("div",{className:"Back",children:[Object(O.jsx)("h1",{children:localStorage.getItem("username")}),Object(O.jsx)("div",{className:"Backgroundp",children:!r&&Object.entries(c).length?Object(O.jsx)(O.Fragment,{children:c.map((function(e,t){return Object(O.jsx)("div",{className:"Postp",children:Object(O.jsxs)("div",{className:"Imagep",children:[Object(O.jsxs)("div",{className:"Amountp",children:[e.amount," "]}),Object(O.jsx)(j.a,{cloudName:"dlhqyhr1r",publicId:e.image})]})})}))}):Object(O.jsx)("div",{className:"Post",children:Object(O.jsx)(w.TransverseLoading,{className:"spinner",type:"spin",color:"black",height:"50%",width:"50%"})})})]})};var F=function(){return Object(O.jsxs)(O.Fragment,{children:[Object(O.jsx)(k,{}),Object(O.jsxs)(r.a,{children:[Object(O.jsx)(l.a,{path:"/",exact:!0,render:function(){return Object(O.jsx)(m,{})}}),Object(O.jsx)(l.a,{path:"/login",exact:!0,render:function(){return Object(O.jsx)(C,{})}}),Object(O.jsx)(l.a,{path:"/register",exact:!0,render:function(){return Object(O.jsx)(P,{})}}),Object(O.jsx)(l.a,{path:"/upload",exact:!0,render:function(){return Object(O.jsx)(y,{})}}),Object(O.jsx)(l.a,{path:"/profile",exact:!0,render:function(){return Object(O.jsx)(L,{})}})]})]})},B=function(e){e&&e instanceof Function&&c.e(3).then(c.bind(null,305)).then((function(t){var c=t.getCLS,a=t.getFID,n=t.getFCP,s=t.getLCP,i=t.getTTFB;c(e),a(e),n(e),s(e),i(e)}))};i.a.render(Object(O.jsx)(n.a.StrictMode,{children:Object(O.jsx)(F,{})}),document.getElementById("root")),B()}},[[293,1,2]]]);
//# sourceMappingURL=main.0f0de392.chunk.js.map